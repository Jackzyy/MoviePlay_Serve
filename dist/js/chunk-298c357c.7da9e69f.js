(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-298c357c"],{"644d":function(i,t,o){},a442:function(i,t,o){"use strict";o.r(t);var n=function(){var i=this,t=i.$createElement,o=i._self._c||t;return o("div",{staticClass:"movie"},[o("div",{staticClass:"kind"},[o("span",[i._v("排序：")]),o("div",{staticClass:"coll-btn",on:{click:function(t){i.goKind("addtime")}}},[i._v("最新")]),o("div",{staticClass:"coll-btn",on:{click:function(t){i.goKind("hits")}}},[i._v("最热")]),o("div",{staticClass:"coll-btn",on:{click:function(t){i.goKind("gold")}}},[i._v("评分")])]),i.isShow?o("div",{staticClass:"load"},[o("van-loading",{attrs:{color:"#7D7D7D"}})],1):o("div",[o("van-pull-refresh",{on:{refresh:i.onRefresh},model:{value:i.isLoading,callback:function(t){i.isLoading=t},expression:"isLoading"}},[o("van-list",{attrs:{finished:i.finished,offset:0},on:{load:i.onLoad},model:{value:i.loading,callback:function(t){i.loading=t},expression:"loading"}},[o("div",{staticClass:"box-movie"},i._l(i.movies,function(t){return o("div",{key:t.id},[o("div",{staticClass:"movieInfo",on:{click:function(o){i.goDetail(t.movieUrl)}}},[o("div",{staticClass:"img"},[o("img",{attrs:{src:t.movieImgUrl,alt:""}}),o("span",{staticClass:"score"},[i._v(i._s(t.movieScore))]),o("span",{staticClass:"clarity"},[i._v(i._s(t.movieClarity))])]),o("div",{staticClass:"van-ellipsis title"},[i._v(i._s(t.movieTitle))]),o("div",{staticClass:"van-ellipsis actor"},[i._v(i._s(t.movieArea))])])])}))])],1)],1)])},s=[],e={data:function(){return{kind:["最新","最热","评分"],isLoading:!1,isShow:!1,loading:!1,finished:!1,movieConfig:{type:"",id:1,kind:"hits"},movies:[]}},methods:{onLoad:function(){var i=this;setTimeout(function(){i.movieConfig.id=i.movieConfig.id+1,i.$axios.get("/movie",i.movieConfig).then(function(t){200==t.code&&(i.movies=i.movies.concat(t.data),i.loading=!1,t.data.length<23&&(i.finished=!0))})},500)},getMovie:function(){var i=this;this.isShow=!0,this.$axios.get("/movie",this.movieConfig).then(function(t){i.movies=t.data,i.isShow=!1})},goDetail:function(i){this.$router.push({path:"/detail",query:{url:i}})},onRefresh:function(){var i=this;setTimeout(function(){i.movieConfig.id=1,i.$axios.get("/movie",i.movieConfig).then(function(t){i.movies=t.data,i.isLoading=!1,i.$toast("数据更新成功")})},500)},goKind:function(i){this.movieConfig.kind=i,this.movieConfig.id=1,this.getMovie()}},watch:{$route:function(i,t){this.movieConfig.id=1,this.movieConfig.type=i.meta.type,this.getMovie()}},created:function(){this.movieConfig.type=this.$route.meta.type,this.getMovie()}},a=e,c=(o("a7c1"),o("2877")),v=Object(c["a"])(a,n,s,!1,null,"01eed053",null);v.options.__file="MovieList.vue";t["default"]=v.exports},a7c1:function(i,t,o){"use strict";var n=o("644d"),s=o.n(n);s.a}}]);
//# sourceMappingURL=chunk-298c357c.7da9e69f.js.map