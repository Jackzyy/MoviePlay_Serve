(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c9fd67c"],{"5c2d":function(i,o,t){"use strict";var e=t("8db4"),s=t.n(e);s.a},"8db4":function(i,o,t){},a442:function(i,o,t){"use strict";t.r(o);var e=function(){var i=this,o=i.$createElement,t=i._self._c||o;return t("div",{staticClass:"movie"},[i.isShow?t("div",{staticClass:"load"},[t("van-loading",{attrs:{color:"#7D7D7D"}})],1):t("div",[t("van-pull-refresh",{on:{refresh:i.onRefresh},model:{value:i.isLoading,callback:function(o){i.isLoading=o},expression:"isLoading"}},[t("van-list",{attrs:{finished:i.finished,offset:0},on:{load:i.onLoad},model:{value:i.loading,callback:function(o){i.loading=o},expression:"loading"}},[t("div",{staticClass:"box-movie"},i._l(i.movies,function(o){return t("div",{key:o.id},[t("div",{staticClass:"movieInfo",on:{click:function(t){i.goDetail(o.movieUrl)}}},[t("div",{staticClass:"img"},[t("img",{attrs:{src:o.movieImgUrl,alt:""}}),t("span",{staticClass:"score"},[i._v(i._s(o.movieScore))]),t("span",{staticClass:"clarity"},[i._v(i._s(o.movieClarity))])]),t("div",{staticClass:"van-ellipsis title"},[i._v(i._s(o.movieTitle))]),t("div",{staticClass:"van-ellipsis actor"},[i._v(i._s(o.movieArea))])])])}))])],1)],1)])},s=[],n={data:function(){return{isLoading:!1,isShow:!1,loading:!1,finished:!1,movieConfig:{type:"",id:1,kind:"hits"},movies:[]}},methods:{onLoad:function(){var i=this;setTimeout(function(){i.movieConfig.id=i.movieConfig.id+1,i.$axios.get("/movie",i.movieConfig).then(function(o){200==o.code&&(i.movies=i.movies.concat(o.data),i.loading=!1,o.data.length<23&&(i.finished=!0))})},500)},getMovie:function(){var i=this;this.isShow=!0,this.$axios.get("/movie",this.movieConfig).then(function(o){i.movies=o.data,i.isShow=!1})},goDetail:function(i){this.$router.push({path:"/detail",query:{url:i}})},onRefresh:function(){var i=this;setTimeout(function(){i.movieConfig.id=1,i.$axios.get("/movie",i.movieConfig).then(function(o){i.movies=o.data,i.isLoading=!1,i.$toast("数据更新成功")})},500)}},watch:{$route:function(i,o){this.movieConfig.id=1,this.movieConfig.type=i.meta.type,this.getMovie()}},created:function(){this.movieConfig.type=this.$route.meta.type,this.getMovie()}},a=n,v=(t("5c2d"),t("2877")),c=Object(v["a"])(a,e,s,!1,null,"48dd5e10",null);c.options.__file="MovieList.vue";o["default"]=c.exports}}]);
//# sourceMappingURL=chunk-7c9fd67c.a1643305.js.map